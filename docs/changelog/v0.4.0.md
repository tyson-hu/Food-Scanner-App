# Changelog - Version 0.4.0

**Release Date**: October 2025  
**Focus**: Enhanced Food Logging and Nutrition Tracking  
**Swift Version**: 6.2 with strict concurrency  
**iOS Target**: 26.0+

## üéØ Version 0.4.0 Overview

Version 0.4.0 focuses on enhanced food logging capabilities and improved nutrition tracking. This release builds upon the solid foundation established in v0.3.0, introducing better food entry management and user experience improvements.

## üîÑ Project Refactoring

### Branding Update
- **Project Rename**: Renamed from "Food Scanner" to "Calry" throughout the project
- **File Updates**: Updated all source files, documentation, and configuration files
- **Test Updates**: Updated all test files to use new Calry branding
- **Documentation**: Comprehensive documentation updates reflecting new branding

### Technical Changes
- **Module Names**: Updated module imports from `Food_Scanner` to `Calry`
- **File Headers**: Updated all Swift file headers to reflect Calry branding
- **Configuration**: Updated SwiftLint configuration for new branding
- **Build System**: Updated Xcode project files and build configurations

### Quality Assurance
- **Linting**: All SwiftLint violations resolved (0 violations)
- **Build**: Successful build with Swift 6 strict concurrency
- **Testing**: All 77 tests passing successfully
- **Code Quality**: Maintained zero lint violations and build warnings

## üÜï New Features

### Enhanced Food Logging
- **Improved Food Entry**: Better food logging workflow with streamlined UI
- **Portion Management**: Enhanced portion sizing with multiple unit support
- **Quick Add**: Faster food addition for frequently logged items
- **Food History**: Access to previously logged foods for quick re-entry

### Nutrition Tracking Improvements
- **Daily Totals**: Better daily nutrition overview in Today View
- **Macro Tracking**: Improved macronutrient breakdown display
- **Progress Visualization**: Basic charts for nutrition trends

## üîß Technical Improvements

### Data Management
- **SwiftData Integration**: Modern data persistence with SwiftData
- **Performance**: Optimized food search and caching
- **Memory Usage**: Reduced memory footprint

### Code Quality
- **Swift 6 Compliance**: Full compliance with Swift 6 strict concurrency
- **Test Coverage**: Maintained comprehensive test coverage
- **Linting**: Zero SwiftLint violations

## üêõ Bug Fixes

### Barcode Scanning
- **Fixed Redirect Parsing**: Resolved barcode redirect parsing issues
- **Improved Error Handling**: Better error messages for failed scans
- **FDCMock**: Fixed missing `per100Base` nutrients in mock data causing UI test failures and "Log Food" button visibility issues
- **CI Test Runner**: Fixed integer expression error in test counting logic that was causing script failures

### Defensive Programming
- **ProductSourceDetection**: Added `@unknown default` case to switch statements in `detectSupportStatus` methods to prevent potential runtime crashes if additional `SourceTag` enum cases are added in the future
- **Future-Proofing**: Enhanced code robustness to handle potential enum extensions gracefully

### User Interface
- **Layout Fixes**: Resolved layout issues on different screen sizes
- **Accessibility**: Enhanced accessibility support

## üì± User Interface Updates

### Today View
- **Enhanced Dashboard**: Improved daily nutrition overview
- **Better Navigation**: Streamlined navigation between features

### Food Entry Flow
- **Simplified Process**: Cleaner food addition workflow
- **Better Validation**: Improved input validation and feedback

## üîÆ Future Roadmap

### Version 0.5.0 (Planned)
- **Social Features**: Share nutrition goals and achievements
- **Recipe Integration**: Recipe creation and meal planning
- **Advanced Analytics**: Detailed nutrition insights

## üìã Migration Notes

### From Version 0.3.0
- **Automatic Migration**: Seamless data migration from v0.3.0
- **Backward Compatibility**: Full compatibility with existing data
- **Performance**: Improved performance across all features

---

**Version 0.4.0** delivers enhanced food logging capabilities and improved user experience, building a solid foundation for future nutrition tracking features.
